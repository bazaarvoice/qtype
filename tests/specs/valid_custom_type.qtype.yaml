id: valid_custom_type
types:
  - id: Author
    properties:
      id: int
      name: text
  - id: Book
    properties:
      title: text
      author: Author
      tags: "list[text]"
      published: boolean

flows:
  - id: my_person_flow
    mode: Complete
    steps:
      - id: prompt_template
        template: >
          You are a helpful assistant. Please provide information about the following book:
          {book}
        inputs:
          - id: book
            type: Book
        outputs:
          - id: prompt_format
            type: text