id: app_condition_then_ref
variables:
  - id: s1.prompt
    type: text
  - id: cond1.result
    type: text
flows:
  - id: f1
    steps:
      - id: s1
        type: PromptTemplate
        template: hi
        outputs:
          - s1.prompt
      - id: s2
        type: PromptTemplate
        template: bye
      - id: cond1
        type: Condition
        equals: s1.prompt
        then: s2
        else: s1
        inputs:
          - s1.prompt
        outputs:
          - cond1.result
