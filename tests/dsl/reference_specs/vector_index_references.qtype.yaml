# Test spec for VectorIndex.auth and VectorIndex.embedding_model reference resolution

id: test_vector_index

auths:
  - id: index_auth
    type: api_key
    api_key: index_secret_key

models:
  - type: EmbeddingModel
    id: embedding_model
    provider: openai
    model_id: text-embedding-3-small
    dimensions: 1536

indexes:
  - type: VectorIndex
    id: test_vector_index
    name: my_vector_collection
    auth: index_auth  # String should be resolved to Reference[AuthProviderType]
    embedding_model: embedding_model  # String should be resolved to Reference[EmbeddingModel]

flows:
  - id: dummy_flow
    steps:
      - id: dummy_step
        type: PromptTemplate
        template: "Test"
